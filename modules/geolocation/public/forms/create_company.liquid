---
name: create_company
fields:
  properties:
    email:
      validation: { presence: true }
    name:
      validation: { presence: true }
    city:
      validation: { presence: true }
    timezone:
      validation: { presence: true }
    location:
      validation: { geometry: true }
redirect_to: /geo/companies
resource: modules/geolocation/company
async_callback_actions: {}
---

{{ form.errors | json }}

{% form %}
  <div class="row">
    <div class="col-xs-12 col-md-4">
      <div class="form-group">
        <label for="name">Name</label>
        <input required="true" value="{{ form.fields.properties.name.value }}" name="{{ form.fields.properties.name.name }}" id="name" type="text" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input required="true" value="{{ form.fields.properties.email.value }}" name="{{ form.fields.properties.email.name }}" id="email" type="email" class="form-control" required>
      </div>
      <div class="form-group">
      <label for="timezone">Timezone</label>
      <input required="true" value="{{ form.fields.properties.timezone.value }}" name="{{ form.fields.properties.timezone.name }}" id="timezone" type="text" class="form-control" required>
      </div>
      <div class="form-group">
      <label for="city">City</label>
      <input required="true" value="{{ form.fields.properties.city.value }}" name="{{ form.fields.properties.city.name }}" id="city" type="text" class="form-control" required>
      </div>
      <div class="form-group">
        <label for="location">Location</label>
        <textarea required="true" name="{{ form.fields.properties.location.name }}" id="location" class="form-control" cols="200" required>
          {{- context.params.form.properties_attributes.location }}
        </textarea>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Add company</button>
      </div>
    </div>
  </div>

{% endform -%}
